{{ $author := ((.Get "author") | default "") }}
{{ $url := ((.Get "url") | default "") }}

<div class="shortcode shortcode-{{ .Name }}">
  <figure>
    <blockquote class="blockquote">
      {{ with .Inner }}{{ . | $.Page.RenderString (dict "display" "block") }}{{ end }}
    </blockquote>
    {{ with $author }}
    <figcaption class="blockquote-footer">
      {{ with $url }}
      <cite><a href="{{ $url }}" target="_blank" rel="noopener nofollow">{{ $author | $.Page.RenderString }}</a></cite>
      {{ else }}
      <cite>{{ $author | $.Page.RenderString }}</cite>
      {{ end }}
    </figcaption>
    {{ end }}
  </figure>
</div>
